# Metal Vector Production Environment Configuration
# Copy this file to .env and fill in your production values

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL connection string for production
# Format: postgresql://username:password@host:port/database
DATABASE_URL="postgresql://username:password@localhost:5432/metalvector_prod"

# ===========================================
# API KEYS AND EXTERNAL SERVICES
# ===========================================
# Gemini API key for AI analysis
GEMINI_API_KEY="your_gemini_api_key_here"

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================
# JWT secret key for token signing (generate a strong random string)
# Use: openssl rand -base64 32
JWT_SECRET="your_jwt_secret_key_here"

# JWT token expiration time (default: 1d)
JWT_EXPIRES_IN="1d"

# Application URLs
NEXT_PUBLIC_APP_URL="https://metalvector.ru"
NEXT_PUBLIC_URL="https://metalvector.ru"

# ===========================================
# SERVER CONFIGURATION
# ===========================================
# Server port (default: 3000)
PORT=3000

# Node environment (production, development, test)
NODE_ENV="production"

# ===========================================
# CORS CONFIGURATION
# ===========================================
# Allowed origins for CORS (comma-separated)
# For production, specify your actual domain
CORS_ORIGINS="https://metalvector.ru,https://www.metalvector.ru"

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================
# Rate limiting settings
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Analysis-specific rate limiting
ANALYSIS_RATE_LIMIT_WINDOW_MS=60000
ANALYSIS_RATE_LIMIT_MAX_REQUESTS=3

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
# Log level (error, warn, info, debug)
LOG_LEVEL="info"

# Log file path (optional, defaults to console)
LOG_FILE_PATH="/var/log/metalvector/app.log"

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ===========================================
# SECURITY HEADERS
# ===========================================
# Content Security Policy
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:;"

# HSTS max age in seconds (1 year)
HSTS_MAX_AGE=31536000

# ===========================================
# MONITORING & ANALYTICS
# ===========================================
# Sentry DSN for error tracking (optional)
SENTRY_DSN=""

# Google Analytics ID (optional)
GA_TRACKING_ID=""

# ===========================================
# EMAIL CONFIGURATION (for future use)
# ===========================================
# SMTP configuration for email notifications
SMTP_HOST=""
SMTP_PORT=587
SMTP_USER=""
SMTP_PASS=""
SMTP_FROM="Metal Vector <noreply.vectorpro@gmail.com>"

# ===========================================
# FILE UPLOAD CONFIGURATION
# ===========================================
# Maximum file size in bytes (10MB)
MAX_FILE_SIZE=10485760

# Allowed file types
ALLOWED_FILE_TYPES="pdf,doc,docx,txt"

# ===========================================
# CACHE CONFIGURATION
# ===========================================
# Redis connection string (optional, for caching)
REDIS_URL=""

# Cache TTL in seconds
CACHE_TTL=3600

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
# Database backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Backup storage path
BACKUP_PATH="/var/backups/metalvector"

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable/disable features
ENABLE_REGISTRATION=true
ENABLE_TRIAL_MODE=true
ENABLE_PAYMENT_INTEGRATION=false
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_ANALYTICS=false

# ===========================================
# DEVELOPMENT OVERRIDES
# ===========================================
# These should be removed or set to false in production
DEBUG_MODE=false
ENABLE_DEBUG_ROUTES=false
MOCK_EXTERNAL_APIS=false

